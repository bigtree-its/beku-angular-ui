<div class="page">
    <div class="page-body">
        <div class="page-header">
            <div class="page-header-icon" (click)="goback()">
                <img src="/assets/icons/left-arrow.png" loading="lazy" height="20px" width="20px">
            </div>
            <span style="padding: 0 10px;">YOUR BASKET</span>
        </div>
        <div class="page-container">
            <div *ngIf="order !== null && order !== undefined &&  order.items !== null &&  order.items !== undefined &&  order.items.length > 0; then thenBlock else elseBlock">
            </div>
        </div>
        <div class="basket-footer">
            <button class="btn-grn py-3 d-block" [routerLink]="[ '/checkout'] " [disabled]="!(order !== null && order !== undefined &&  order.items !== null &&  order.items !== undefined &&  order.items.length > 0)">
                Checkout</button>
        </div>
    </div>
</div>

<ng-template #elseBlock>
    <div class="basket-no-items">
        <img src="/assets/icons/shopping-basket.png" height="100px" width="100px" class="empty-bag">
        <span style="margin-top: 50px;font-weight: 900;">
            YOUR BASKET IS EMPTY
        </span>
        <p>What are you feeling today? Checkout our Home Cooks</p>
    </div>
</ng-template>

<ng-template #thenBlock>
    <div class="basket-with-items">
        <div class="chef-profile-image-container">
            <img src="/assets/images/chefs/{{chef._id}}/cover-photo.jpg" class="chef-profile-image">
        </div>
        <strong class="chef-name" [routerLink]="['/cooks', chef._id]" routerLinkActive="router-link-active">{{chef.kitchenName}}</strong>
        <span>{{getAddress()}}</span>
        <div class="btn-wrapper" style="width: 100%;">
            <div style="display: flex; justify-content: space-between;">
                <span>Total</span>
                <span style="font-weight: bolder;font-size: 15px;">{{cartTotal | currency: 'GBP'}}</span>
            </div>
        </div>
        <div class="items-container">
            <div *ngIf="order !== null && order !== undefined">
                <app-order-item *ngFor="let item of order.items" [item]="item"></app-order-item>
            </div>
        </div>
    </div>
</ng-template>